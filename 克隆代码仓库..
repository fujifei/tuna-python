克隆代码仓库...
Cloning into '/tmp/tuna-python'...
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-q9iw7my6
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-q9iw7my6
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=fbccee5886aa8ef623d4ec3caa7c3203de7d97a1a929a9e7a060f555f345bcc8
  Stored in directory: /tmp/pip-ephem-wheel-cache-_erdf_1t/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:32:01,867 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:01,867 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:32:01,886 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:32:01,887 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:32:01,887 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:32:03,890 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:32:03,890 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:32:03,890 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:32:03,890 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:32:03,890 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:32:03,890 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:32:03,895 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:03,899 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:03,913 - [PYCA] - INFO - [PYCA] Attempting to get GitHub repo ID for: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:03,914 - [PYCA] - INFO - [PYCA] Matched pattern 1: owner=fujifei, repo=tuna-python
2026-01-12 15:32:03,914 - [PYCA] - INFO - [PYCA] Calling GitHub API: https://api.github.com/repos/fujifei/tuna-python
2026-01-12 15:32:04,453 - [PYCA] - INFO - [PYCA] Successfully retrieved repo_id: 1128042826 for fujifei/tuna-python
2026-01-12 15:32:04,454 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:32:04,454 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:32:04,454 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:32:04,455 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:32:04,455 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:32:04,455 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:32:04,455 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:32:04,456 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:32:04,456 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:32:04,456 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:32:04,456 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:32:04,456 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:32:04,456 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Timestamp: 1768203124
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:32:04,457 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203124
}
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:32:04,458 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:32:04,459 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:32:04,459 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:04,459 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:04,461 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:32:04,463 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 46804), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:04,463 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f621326bbc0>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f621326bbc0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:32:04,599 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f621326bbc0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:04,599 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f621326bbc0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:04,600 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f621326bbc0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:04,600 - [PYCA] - INFO - Created channel=1
2026-01-12 15:32:04,614 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:04,614 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:32:04,614 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f621326bbc0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:04,622 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f621326bbc0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:04,622 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:32:04,626 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 46804), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:04,626 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 46804), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:04,626 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 46804), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:04,627 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:04,627 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:04,627 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 46804), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:04,627 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:32:04,627 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:32:04,628 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:32:04,629 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:32:04,630 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-7cgbf5vb
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-7cgbf5vb
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=d11cedc179b548535cbba3d3ea2b9564de9d67b9cbd9f2102ef162b08800f9e8
  Stored in directory: /tmp/pip-ephem-wheel-cache-untq9724/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:32:14,392 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:14,392 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:32:14,411 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:32:14,412 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:32:14,412 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:32:16,414 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:32:16,414 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:32:16,414 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:32:16,414 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:32:16,415 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:32:16,415 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:32:16,421 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:16,428 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:16,428 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:32:16,428 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:32:16,428 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:32:16,428 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:32:16,428 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:32:16,428 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:32:16,428 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:32:16,429 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:32:16,429 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:32:16,429 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:32:16,429 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:32:16,429 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:32:16,429 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Timestamp: 1768203136
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:32:16,429 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203136
}
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:32:16,430 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:16,431 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:32:16,436 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:32:16,437 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:32:16,436 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:16,437 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:16,441 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:32:16,442 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 55394), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:16,444 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6b63bf33b0>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6b63bf33b0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:32:16,452 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6b63bf33b0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:16,452 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6b63bf33b0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:16,453 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6b63bf33b0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:16,454 - [PYCA] - INFO - Created channel=1
2026-01-12 15:32:16,458 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:16,459 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:32:16,459 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6b63bf33b0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:16,460 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6b63bf33b0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:16,461 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:32:16,463 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 55394), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:16,463 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 55394), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:16,463 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 55394), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:16,463 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:16,464 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:16,464 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 55394), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:16,465 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:32:16,466 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:32:16,467 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:32:16,468 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:32:16,468 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-6dn9egjl
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-6dn9egjl
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=7d9870b88a794c27d0c7f04899ba53588622d08d9c341d9fdda5da0a1e2d6d88
  Stored in directory: /tmp/pip-ephem-wheel-cache-qqiwla4e/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:32:28,643 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:28,643 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:32:28,659 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:32:28,660 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:32:28,660 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:32:30,661 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:32:30,661 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:32:30,661 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:32:30,661 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:32:30,661 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:32:30,661 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:32:30,665 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:30,668 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:30,668 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:32:30,668 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:32:30,668 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:32:30,669 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:32:30,669 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:32:30,669 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:32:30,669 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:32:30,669 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:32:30,669 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:32:30,669 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:32:30,669 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:30,670 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:32:30,670 - [PYCA] - INFO - [PYCA] Timestamp: 1768203150
2026-01-12 15:32:30,670 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:32:30,670 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:32:30,670 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:32:30,670 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:32:30,670 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203150
}
2026-01-12 15:32:30,671 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:32:30,671 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:32:30,671 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:30,672 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:30,672 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:32:30,672 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:32:30,672 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:30,673 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:32:30,675 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:32:30,675 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:32:30,675 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:30,676 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:30,678 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:32:30,679 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 40556), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:30,680 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6528bcacf0>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6528bcacf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:32:30,685 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6528bcacf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:30,686 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6528bcacf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:30,686 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6528bcacf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:30,686 - [PYCA] - INFO - Created channel=1
2026-01-12 15:32:30,688 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:30,689 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:32:30,689 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6528bcacf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:30,689 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6528bcacf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:30,690 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:32:30,690 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 40556), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:30,691 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 40556), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:30,691 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 40556), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:30,691 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:30,691 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:30,691 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 40556), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:30,692 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:32:30,693 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:32:30,694 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:32:30,694 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:32:30,695 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-dq19z7dp
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-dq19z7dp
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=22ea86744606bd34a4e7da1fe5e032865ad81d15465e5e5e501ffa3e76ba26c9
  Stored in directory: /tmp/pip-ephem-wheel-cache-9dv9y5mb/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:32:41,015 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:41,015 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:32:41,045 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:32:41,046 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:32:41,046 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:32:43,047 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:32:43,047 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:32:43,047 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:32:43,047 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:32:43,048 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:32:43,048 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:32:43,052 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:43,055 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:43,055 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:32:43,055 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:32:43,055 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:32:43,055 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:32:43,055 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:32:43,056 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:32:43,056 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:32:43,056 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:32:43,056 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:32:43,056 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:32:43,056 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:32:43,056 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:32:43,056 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Timestamp: 1768203163
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203163
}
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:43,057 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:32:43,059 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:32:43,060 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:32:43,060 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:43,060 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:43,061 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:32:43,062 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 59982), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:43,062 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa2e7842930>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa2e7842930> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:32:43,066 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa2e7842930> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:43,066 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa2e7842930> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:43,066 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa2e7842930> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:43,067 - [PYCA] - INFO - Created channel=1
2026-01-12 15:32:43,069 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:43,069 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:32:43,069 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa2e7842930> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:43,070 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa2e7842930> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:43,070 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:32:43,071 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 59982), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:43,072 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 59982), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:43,072 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 59982), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:43,072 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:43,072 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:43,072 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 59982), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:43,073 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:32:43,074 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:32:43,075 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:32:43,076 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:32:43,076 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-8mfhpfiv
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-8mfhpfiv
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=d04ecdf9f4faa90e61afb2d26af49640190c8399b6de11d291f24d7dbbba8c97
  Stored in directory: /tmp/pip-ephem-wheel-cache-mdh0c_b_/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:32:53,152 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:53,152 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:32:53,178 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:32:53,179 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:32:53,179 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:32:55,181 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:32:55,181 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:32:55,181 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:32:55,181 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:32:55,181 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:32:55,181 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:32:55,186 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:55,192 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:55,192 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:32:55,192 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:32:55,192 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:32:55,193 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:32:55,193 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:32:55,193 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:32:55,193 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:32:55,193 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:32:55,194 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:32:55,194 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:32:55,195 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:32:55,195 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:32:55,195 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:32:55,196 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:32:55,196 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:32:55,196 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:32:55,196 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:32:55,196 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:55,197 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:32:55,197 - [PYCA] - INFO - [PYCA] Timestamp: 1768203175
2026-01-12 15:32:55,197 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:32:55,198 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:32:55,198 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:32:55,198 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:32:55,198 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203175
}
2026-01-12 15:32:55,199 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:32:55,199 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:32:55,199 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:55,199 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:55,199 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:32:55,201 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:32:55,201 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:32:55,201 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:32:55,205 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:32:55,206 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:32:55,206 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:55,206 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:32:55,209 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:32:55,210 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 49064), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:55,210 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6639742c30>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6639742c30> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:32:55,216 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6639742c30> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:55,217 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6639742c30> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:55,217 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6639742c30> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:32:55,218 - [PYCA] - INFO - Created channel=1
2026-01-12 15:32:55,222 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:32:55,223 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:32:55,223 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6639742c30> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:55,224 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f6639742c30> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:32:55,225 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:32:55,226 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 49064), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:55,226 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 49064), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:55,226 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 49064), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:55,227 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:55,227 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:32:55,227 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.5', 49064), raddr=('192.168.156.3', 5672)>
2026-01-12 15:32:55,228 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:32:55,228 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:32:55,230 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:32:55,231 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:32:55,231 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-gjsfugra
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-gjsfugra
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=ef7d727a4a125100b3f07ce092db8e8eccbb4c2efb1eb9daaaac22d8b44ca4d5
  Stored in directory: /tmp/pip-ephem-wheel-cache-z7yhmx5v/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:33:05,845 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:05,845 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:33:05,860 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:33:05,866 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:33:05,866 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:33:07,867 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:33:07,867 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:33:07,867 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:33:07,867 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:33:07,868 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:33:07,868 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:33:07,871 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:07,878 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:33:07,879 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:33:07,879 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:33:07,879 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:33:07,879 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:33:07,879 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:33:07,879 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:33:07,879 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Timestamp: 1768203187
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:33:07,879 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203187
}
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:07,880 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:33:07,882 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:33:07,882 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:33:07,882 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:07,882 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:07,884 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:33:07,884 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44198), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:07,885 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f16b7b2ef60>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f16b7b2ef60> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:33:07,889 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f16b7b2ef60> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:07,889 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f16b7b2ef60> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:07,890 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f16b7b2ef60> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:07,890 - [PYCA] - INFO - Created channel=1
2026-01-12 15:33:07,892 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:07,892 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:33:07,892 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f16b7b2ef60> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:07,892 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f16b7b2ef60> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:07,893 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:33:07,893 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44198), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:07,893 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44198), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:07,893 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44198), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:07,894 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:07,894 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:07,894 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44198), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:07,894 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:33:07,895 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:33:07,896 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:33:07,896 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:33:07,896 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-m3eayo05
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-m3eayo05
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=451aad879b5f3dac3ef059ece841720d2a59c9d7fd1ef4382ffae337932c40ba
  Stored in directory: /tmp/pip-ephem-wheel-cache-7czt9y8a/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:33:17,311 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:17,311 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:33:17,329 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:33:17,330 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:33:17,330 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:33:19,331 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:33:19,332 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:33:19,332 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:33:19,332 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:33:19,332 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:33:19,332 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:33:19,336 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:19,341 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:33:19,342 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:33:19,342 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:33:19,342 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:33:19,342 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:33:19,342 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:33:19,342 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:33:19,342 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:33:19,342 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] Timestamp: 1768203199
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203199
}
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:19,343 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:33:19,344 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:33:19,344 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:19,344 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:33:19,346 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:33:19,346 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:33:19,346 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:19,346 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:19,348 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:33:19,348 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52096), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:19,349 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd4dc5f6480>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd4dc5f6480> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:33:19,352 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd4dc5f6480> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:19,352 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd4dc5f6480> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:19,352 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd4dc5f6480> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:19,353 - [PYCA] - INFO - Created channel=1
2026-01-12 15:33:19,356 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:19,356 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:33:19,356 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd4dc5f6480> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:19,357 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd4dc5f6480> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:19,357 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:33:19,357 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52096), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:19,358 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52096), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:19,358 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52096), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:19,358 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:19,358 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:19,358 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52096), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:19,359 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:33:19,359 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:33:19,360 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:33:19,360 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:33:19,360 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-8agkfshn
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-8agkfshn
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=dd2279a20e88fc705d5290a4dfc900ad5d93f7f2bbbd3bc336f97a3e50c1cf5b
  Stored in directory: /tmp/pip-ephem-wheel-cache-6vy0lnkl/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:33:30,624 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:30,627 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:33:30,641 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:33:30,645 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:33:30,645 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:33:32,646 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:33:32,646 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:33:32,646 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:33:32,646 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:33:32,646 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:33:32,647 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:33:32,650 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:33:32,654 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:33:32,654 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:33:32,654 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:33:32,654 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:33:32,654 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:33:32,654 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:33:32,654 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Timestamp: 1768203212
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:33:32,654 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203212
}
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:32,655 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:33:32,657 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:33:32,657 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:33:32,657 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:32,657 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:32,659 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:33:32,659 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58806), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:32,660 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f67223454f0>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f67223454f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:33:32,664 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f67223454f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:32,664 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f67223454f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:32,665 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f67223454f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:32,665 - [PYCA] - INFO - Created channel=1
2026-01-12 15:33:32,667 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:32,667 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:33:32,667 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f67223454f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:32,668 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f67223454f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:32,668 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:33:32,668 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58806), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:32,668 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58806), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:32,669 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58806), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:32,669 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:32,669 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:32,669 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58806), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:32,670 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:33:32,670 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:33:32,671 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:33:32,672 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:33:32,673 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-nf5pwt5l
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-nf5pwt5l
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=1df840fa8c56fcbc1ba87dcf8c52d55e664a8844750c70b4850ca1278c4c7f2c
  Stored in directory: /tmp/pip-ephem-wheel-cache-1npnxo9k/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:33:42,190 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:42,190 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:33:42,207 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:33:42,208 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:33:42,208 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:33:44,209 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:33:44,209 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:33:44,209 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:33:44,209 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:33:44,211 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:33:44,211 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:33:44,215 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:44,221 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:33:44,222 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:33:44,222 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:33:44,222 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:33:44,222 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:33:44,222 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:33:44,222 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:33:44,222 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Timestamp: 1768203224
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203224
}
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:33:44,222 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:44,223 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:33:44,225 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:33:44,226 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:33:44,226 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:44,226 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:44,227 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:33:44,227 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44754), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:44,228 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd525556390>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd525556390> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:33:44,233 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd525556390> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:44,233 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd525556390> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:44,233 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd525556390> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:44,234 - [PYCA] - INFO - Created channel=1
2026-01-12 15:33:44,236 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:44,236 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:33:44,236 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd525556390> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:44,236 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fd525556390> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:44,237 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:33:44,237 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44754), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:44,237 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44754), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:44,238 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44754), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:44,238 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:44,238 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:44,238 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 44754), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:44,239 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:33:44,239 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:33:44,240 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:33:44,241 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:33:44,241 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-c9rs2ifl
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-c9rs2ifl
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=8c56ac456291d28f274010aa1e8699c4537200b7b44d25807ae006337cc1f67e
  Stored in directory: /tmp/pip-ephem-wheel-cache-e3r6va2w/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:33:54,564 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:54,564 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:33:54,586 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:33:54,587 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:33:54,587 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:33:56,588 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:33:56,588 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:33:56,588 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:33:56,588 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:33:56,589 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:33:56,589 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:33:56,595 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:33:56,599 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:33:56,599 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:33:56,599 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:33:56,599 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:33:56,599 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:33:56,599 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:33:56,599 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Timestamp: 1768203236
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203236
}
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:33:56,599 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:56,600 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:56,600 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:33:56,600 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:33:56,600 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:33:56,600 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:33:56,602 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:33:56,602 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:33:56,603 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:56,603 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:33:56,604 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:33:56,604 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 47914), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:56,605 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f74bcd11f70>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f74bcd11f70> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:33:56,609 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f74bcd11f70> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:56,609 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f74bcd11f70> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:56,609 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f74bcd11f70> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:33:56,609 - [PYCA] - INFO - Created channel=1
2026-01-12 15:33:56,611 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:33:56,611 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:33:56,611 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f74bcd11f70> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:56,611 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f74bcd11f70> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:33:56,612 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:33:56,612 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 47914), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:56,612 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 47914), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:56,612 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 47914), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:56,612 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:56,612 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:33:56,612 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 47914), raddr=('192.168.156.3', 5672)>
2026-01-12 15:33:56,613 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:33:56,613 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:33:56,614 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:33:56,615 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:33:56,615 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-31x2llmg
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-31x2llmg
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=5fddd35e83666a16a1181749f0f9b56263659af6f3f486579537b3262efd2976
  Stored in directory: /tmp/pip-ephem-wheel-cache-6mtulwsk/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:34:06,617 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:06,617 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:34:06,639 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:34:06,640 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:34:06,640 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:34:08,641 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:34:08,641 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:34:08,641 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:34:08,641 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:34:08,641 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:34:08,641 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:34:08,644 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:08,647 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:34:08,648 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:34:08,648 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:34:08,648 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:34:08,648 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:34:08,648 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:34:08,648 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:34:08,648 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Timestamp: 1768203248
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203248
}
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:08,648 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:34:08,650 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:34:08,650 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:34:08,650 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:08,650 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:08,652 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:34:08,653 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 59852), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:08,653 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa6d815ecf0>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa6d815ecf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:34:08,657 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa6d815ecf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:08,657 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa6d815ecf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:08,657 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa6d815ecf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:08,657 - [PYCA] - INFO - Created channel=1
2026-01-12 15:34:08,659 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:08,659 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:34:08,659 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa6d815ecf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:08,660 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa6d815ecf0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:08,660 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:34:08,661 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 59852), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:08,661 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 59852), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:08,661 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 59852), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:08,661 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:08,661 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:08,661 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 59852), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:08,662 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:34:08,662 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:34:08,663 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:34:08,664 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:34:08,664 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-cfmc72j2
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-cfmc72j2
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=503ec6d5a0038275db7044079d7affb3fc6c63826a4cb1dc392ec6bd51abb672
  Stored in directory: /tmp/pip-ephem-wheel-cache-ij98o4id/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:34:18,779 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:18,780 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:34:18,796 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:34:18,798 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:34:18,798 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:34:20,799 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:34:20,799 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:34:20,799 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:34:20,799 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:34:20,799 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:34:20,799 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:34:20,805 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:20,811 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:20,811 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:34:20,811 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:34:20,812 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:34:20,812 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:34:20,812 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:34:20,812 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:34:20,812 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:34:20,812 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:34:20,812 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:34:20,813 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:34:20,813 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:34:20,813 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:34:20,813 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] Timestamp: 1768203260
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:34:20,813 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203260
}
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:20,814 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:34:20,817 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:34:20,819 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:34:20,819 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:20,819 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:20,822 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:34:20,822 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 45576), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:20,823 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f25dc60d460>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f25dc60d460> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:34:20,829 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f25dc60d460> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:20,829 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f25dc60d460> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:20,829 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f25dc60d460> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:20,830 - [PYCA] - INFO - Created channel=1
2026-01-12 15:34:20,833 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:20,833 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:34:20,833 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f25dc60d460> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:20,833 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f25dc60d460> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:20,834 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:34:20,834 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 45576), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:20,834 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 45576), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:20,834 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 45576), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:20,835 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:20,835 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:20,835 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 45576), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:20,835 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:34:20,835 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:34:20,836 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:34:20,837 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:34:20,838 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-ojlnshr3
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-ojlnshr3
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=d00087c30b7beebb4ac2f9b74779e495e8a820254bb56f61bae9704eeec9b223
  Stored in directory: /tmp/pip-ephem-wheel-cache-5jy2s7wm/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:34:34,857 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:34,858 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:34:34,876 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:34:34,877 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:34:34,878 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:34:36,879 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:34:36,879 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:34:36,879 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:34:36,879 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:34:36,879 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:34:36,879 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:34:36,883 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:36,889 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:36,889 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:34:36,889 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:34:36,889 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:34:36,889 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:34:36,890 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:34:36,890 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:34:36,890 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:34:36,890 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:34:36,890 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:34:36,891 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:34:36,891 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:34:36,891 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:34:36,892 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:34:36,892 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:34:36,892 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:36,892 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:34:36,892 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] Timestamp: 1768203276
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203276
}
2026-01-12 15:34:36,893 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:34:36,894 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:34:36,894 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:36,894 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:36,894 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:34:36,894 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:34:36,895 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:36,895 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:34:36,898 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:34:36,898 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:34:36,898 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:36,898 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:36,901 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:34:36,901 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58712), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:36,902 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fb16d56e0f0>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fb16d56e0f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:34:36,911 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fb16d56e0f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:36,911 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fb16d56e0f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:36,911 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fb16d56e0f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:36,912 - [PYCA] - INFO - Created channel=1
2026-01-12 15:34:36,914 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:36,914 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:34:36,914 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fb16d56e0f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:36,915 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fb16d56e0f0> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:36,916 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:34:36,917 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58712), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:36,917 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58712), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:36,917 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58712), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:36,917 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:36,917 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:36,918 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 58712), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:36,918 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:34:36,918 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:34:36,920 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:34:36,921 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:34:36,922 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-rrvb6uv9
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-rrvb6uv9
  Resolved https://github.com/fujifei/pyca.git to commit ee41539fa893a8af706bf54d05b65cbeba72e66b
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting coverage>=7.0.0 (from python-coverage-agent==0.1.0)
  Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.5 kB)
Collecting pika>=1.3.0 (from python-coverage-agent==0.1.0)
  Downloading pika-1.3.2-py3-none-any.whl.metadata (13 kB)
Downloading coverage-7.13.1-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (253 kB)
Downloading pika-1.3.2-py3-none-any.whl (155 kB)
Building wheels for collected packages: python-coverage-agent
  Building wheel for python-coverage-agent (pyproject.toml): started
  Building wheel for python-coverage-agent (pyproject.toml): finished with status 'done'
  Created wheel for python-coverage-agent: filename=python_coverage_agent-0.1.0-py3-none-any.whl size=29170 sha256=cef576d23ad1ea97073951614da11186f45e1b0a5ac267b3bb4edc26a7fcce83
  Stored in directory: /tmp/pip-ephem-wheel-cache-7gjujsu8/wheels/7b/de/dd/2b45fded553c7ce74484288d1c7ad55cf281481677d207fc88
Successfully built python-coverage-agent
Installing collected packages: pika, coverage, python-coverage-agent
  Attempting uninstall: pika
    Found existing installation: pika 1.3.2
    Uninstalling pika-1.3.2:
      Successfully uninstalled pika-1.3.2
  Attempting uninstall: coverage
    Found existing installation: coverage 7.13.1
    Uninstalling coverage-7.13.1:
      Successfully uninstalled coverage-7.13.1
  Attempting uninstall: python-coverage-agent
    Found existing installation: python-coverage-agent 0.1.0
    Uninstalling python-coverage-agent-0.1.0:
      Successfully uninstalled python-coverage-agent-0.1.0
Successfully installed coverage-7.13.1 pika-1.3.2 python-coverage-agent-0.1.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
2026-01-12 15:34:48,018 - [PYCA] - INFO - [PYCA] RabbitMQ URL configured: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:48,019 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ hostname: rabbitmq, port: 5672
2026-01-12 15:34:48,041 - [PYCA] - INFO - [PYCA] Coverage collection started (will track all imported Python modules)
2026-01-12 15:34:48,042 - [PYCA] - INFO - [PYCA] Agent initialized, flush_interval=60s
2026-01-12 15:34:48,043 - [PYCA] - INFO - [PYCA] Reporting coverage on startup...
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
2026-01-12 15:34:50,045 - [PYCA] - INFO - [PYCA] Found 0 measured files
2026-01-12 15:34:50,045 - [PYCA] - INFO - [PYCA] Files with executed lines: 0/0
2026-01-12 15:34:50,045 - [PYCA] - WARNING - [PYCA] No measured files found, coverage may not be collecting data
2026-01-12 15:34:50,045 - [PYCA] - WARNING - [PYCA] Coverage data is empty - no code has been executed yet
2026-01-12 15:34:50,046 - [PYCA] - INFO - [PYCA] Coverage data collected: 0 files, 0 total lines
2026-01-12 15:34:50,046 - [PYCA] - INFO - [PYCA] Reporting coverage on startup (no change check)
2026-01-12 15:34:50,050 - [PYCA] - INFO - [PYCA] Retrieved git repo URL: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Attempting to get repo_id for repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Using cached repo_id for https://github.com/fujifei/tuna-python.git: 1128042826
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Successfully set repo_id: 1128042826
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Coverage data before formatting: 0 files
2026-01-12 15:34:50,053 - [PYCA] - ERROR - [PYCA] ERROR: coverage_data is empty!
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Formatting coverage raw data for 0 files
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Formatted coverage raw: 0 files processed, 0 lines processed, 0 lines skipped, 0 coverage lines generated
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Coverage raw result length: 11 chars, 1 lines (including header)
2026-01-12 15:34:50,053 - [PYCA] - ERROR - [PYCA] ERROR: Coverage raw data is empty or only contains header!
2026-01-12 15:34:50,053 - [PYCA] - ERROR - [PYCA]   Files in coverage_data: 0
2026-01-12 15:34:50,053 - [PYCA] - ERROR - [PYCA]   Total lines processed: 0
2026-01-12 15:34:50,053 - [PYCA] - ERROR - [PYCA]   Total lines skipped: 0
2026-01-12 15:34:50,053 - [PYCA] - ERROR - [PYCA]   Coverage lines generated: 0
2026-01-12 15:34:50,053 - [PYCA] - ERROR - [PYCA]   Result: mode: count
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] ========== Coverage Report Details ==========
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Repo: https://github.com/fujifei/tuna-python.git
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Repo ID: 1128042826
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Branch: master
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Commit: d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] CI: {}
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Timestamp: 1768203290
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Coverage Data Files: 0
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Coverage Raw Data (preview, 11 chars total):
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] mode: count
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Full Report JSON:
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] {
  "repo": "https://github.com/fujifei/tuna-python.git",
  "repo_id": "1128042826",
  "branch": "master",
  "commit": "d177eabc3044b6f38fd8f025ec2adae291597b27",
  "ci": {},
  "coverage": {
    "format": "pyca",
    "raw": "mode: count"
  },
  "timestamp": 1768203290
}
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] ============================================
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] About to call _publish_to_mq...
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] _publish_to_mq called, RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Parsed RabbitMQ URL: ParseResult(scheme='amqp', netloc='coverage:coverage123@rabbitmq:5672', path='/', params='', query='', fragment='')
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Connecting to RabbitMQ: host=rabbitmq, port=5672, vhost=/, username=coverage
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Full RabbitMQ URL: amqp://coverage:coverage123@rabbitmq:5672/
2026-01-12 15:34:50,053 - [PYCA] - INFO - [PYCA] Parsed URL components: hostname=rabbitmq, port=5672, path=/
2026-01-12 15:34:50,059 - [PYCA] - INFO - [PYCA] DNS resolution for 'rabbitmq': 192.168.156.3
2026-01-12 15:34:50,059 - [PYCA] - INFO - [PYCA] Pika connection parameters: host=rabbitmq, port=5672, vhost=/
2026-01-12 15:34:50,059 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:50,060 - [PYCA] - INFO - [PYCA] Attempting to connect to RabbitMQ at rabbitmq:5672...
2026-01-12 15:34:50,061 - [PYCA] - INFO - Pika version 1.3.2 connecting to ('192.168.156.3', 5672)
2026-01-12 15:34:50,062 - [PYCA] - INFO - Socket connected: <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52300), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:50,063 - [PYCA] - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa1f2fe5250>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa1f2fe5250> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2026-01-12 15:34:50,070 - [PYCA] - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa1f2fe5250> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:50,070 - [PYCA] - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa1f2fe5250> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:50,070 - [PYCA] - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa1f2fe5250> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2026-01-12 15:34:50,071 - [PYCA] - INFO - Created channel=1
2026-01-12 15:34:50,076 - [PYCA] - INFO - [PYCA] Coverage report published successfully: repo=https://github.com/fujifei/tuna-python.git, branch=master, commit=d177eabc3044b6f38fd8f025ec2adae291597b27
2026-01-12 15:34:50,076 - [PYCA] - INFO - Closing connection (200): Normal shutdown
2026-01-12 15:34:50,076 - [PYCA] - INFO - Closing channel (200): 'Normal shutdown' on <Channel number=1 OPEN conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa1f2fe5250> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:50,078 - [PYCA] - INFO - Received <Channel.CloseOk> on <Channel number=1 CLOSING conn=<SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7fa1f2fe5250> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>>
2026-01-12 15:34:50,079 - [PYCA] - INFO - Closing connection (200): 'Normal shutdown'
2026-01-12 15:34:50,080 - [PYCA] - INFO - Aborting transport connection: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52300), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:50,080 - [PYCA] - INFO - _AsyncTransportBase._initate_abort(): Initiating abrupt asynchronous transport shutdown: state=1; error=None; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52300), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:50,081 - [PYCA] - INFO - Deactivating transport: state=1; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52300), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:50,081 - [PYCA] - INFO - AMQP stack terminated, failed to connect, or aborted: opened=True, error-arg=None; pending-error=ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:50,081 - [PYCA] - INFO - Stack terminated due to ConnectionClosedByClient: (200) 'Normal shutdown'
2026-01-12 15:34:50,082 - [PYCA] - INFO - Closing transport socket and unlinking: state=3; <socket.socket fd=6, family=2, type=1, proto=6, laddr=('192.168.156.6', 52300), raddr=('192.168.156.3', 5672)>
2026-01-12 15:34:50,083 - [PYCA] - INFO - User-initiated close: result=BlockingConnection__OnClosedArgs(connection=<SelectConnection CLOSED transport=None params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>, error=ConnectionClosedByClient: (200) 'Normal shutdown')
2026-01-12 15:34:50,083 - [PYCA] - INFO - [PYCA] _publish_to_mq returned successfully
2026-01-12 15:34:50,085 - [PYCA] - INFO - [PYCA] Startup coverage report completed
2026-01-12 15:34:50,089 - [PYCA] - INFO - [PYCA] Agent started
2026-01-12 15:34:50,090 - [PYCA] - INFO - [PYCA] Coverage agent started via sitecustomize
Failed to initialize database: Failed to initialize database: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
/usr/local/lib/python3.12/site-packages/coverage/control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.1/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
代码已存在，拉取最新代码...
From https://github.com/fujifei/tuna-python
 * branch            master     -> FETCH_HEAD
Already up to date.
Requirement already satisfied: Flask==3.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (3.0.0)
Requirement already satisfied: flask-cors==4.0.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: PyMySQL==1.1.0 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: PyYAML==6.0.1 in /usr/local/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (6.0.1)
Requirement already satisfied: Werkzeug>=3.0.0 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.5)
Requirement already satisfied: Jinja2>=3.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: itsdangerous>=2.1.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (8.3.1)
Requirement already satisfied: blinker>=1.6.2 in /usr/local/lib/python3.12/site-packages (from Flask==3.0.0->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/site-packages (from Jinja2>=3.1.2->Flask==3.0.0->-r requirements.txt (line 1)) (3.0.3)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 25.0.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
Collecting git+https://github.com/fujifei/pyca.git@master
  Cloning https://github.com/fujifei/pyca.git (to revision master) to /tmp/pip-req-build-kaaky4is
  Running command git clone --filter=blob:none --quiet https://github.com/fujifei/pyca.git /tmp/pip-req-build-kaaky4is
